<!DOCTYPE html><html lang="en" ><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="Various Noise Estimation Algorithms in Real-Time: A Detailed Overview with Financial Time Series" /><meta name="author" content="Pavan Donthireddy" /><meta property="og:locale" content="en_US" /><meta name="description" content="This article discusses various noise estimation algorithms used in real-time, with a focus on financial time series data. It includes their variants with equations in LaTeX, Python implementation of each variant, and an example." /><meta property="og:description" content="This article discusses various noise estimation algorithms used in real-time, with a focus on financial time series data. It includes their variants with equations in LaTeX, Python implementation of each variant, and an example." /><link rel="canonical" href="http://localhost:4000/2023/04/04/noise-estimation" /><meta property="og:url" content="http://localhost:4000/2023/04/04/noise-estimation" /><meta property="og:site_name" content="Pavan Donthireddy" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-04-04T00:00:00+01:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Various Noise Estimation Algorithms in Real-Time: A Detailed Overview with Financial Time Series" /><meta name="twitter:site" content="@" /><meta name="twitter:creator" content="@Pavan Donthireddy" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Pavan Donthireddy"},"dateModified":"2023-04-04T00:00:00+01:00","datePublished":"2023-04-04T00:00:00+01:00","description":"This article discusses various noise estimation algorithms used in real-time, with a focus on financial time series data. It includes their variants with equations in LaTeX, Python implementation of each variant, and an example.","headline":"Various Noise Estimation Algorithms in Real-Time: A Detailed Overview with Financial Time Series","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2023/04/04/noise-estimation"},"url":"http://localhost:4000/2023/04/04/noise-estimation"}</script><title> Various Noise Estimation Algorithms in Real-Time: A Detailed Overview with Financial Time Series - Pavan Donthireddy</title><meta charset="UTF-8"><link rel="canonical" href="http://localhost:4000/2023/04/04/noise-estimation" /><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="description" content="In real-time data analysis, accurate estimation of noise is a crucial step. Incorrect noise estimation can lead to false conclusions and wrong investment dec..."><meta property="og:site_name" content="Pavan Donthireddy"><meta property="og:description" content="In real-time data analysis, accurate estimation of noise is a crucial step. Incorrect noise estimation can lead to false conclusions and wrong investment dec..."/><meta property="og:title" content="Various Noise Estimation Algorithms in Real-Time: A Detailed Overview with Financial Time Series"><meta property="og:type" content="article"><meta property="article:published_time" content="2023-04-04T00:00:00+01:00"><meta property="article:author" content="http://localhost:4000/"><meta property="og:url" content="http://localhost:4000/2023/04/04/noise-estimation" /><link rel="shortcut icon" href="/favicon.png"><link rel="alternate" type="application/atom+xml" title="Pavan Donthireddy" href="/atom.xml"><link rel="alternate" type="application/json" title="Pavan Donthireddy" href="http://localhost:4000/feed.json" /><link rel="sitemap" type="application/xml" title="sitemap" href="/sitemap.xml" /> <script type="text/x-mathjax-config"> MathJax.Hub.Config({ jax: ["input/TeX","input/MathML","output/SVG", "output/CommonHTML"], extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "CHTML-preview.js"], TeX: { extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"] }, tex2jax: { inlineMath: [ ['$','$'], ["\\(","\\)"] ], processEscapes: true, processEnvironments: true, skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'] }, messageStyle: "none", "HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] }, TeX: { equationNumbers: { autoNumber: "AMS" }, extensions: ["AMSmath.js", "AMSsymbols.js","AMScd.js"], TagSide: "left", Macros: { field: ['\\mathbb{#1}', 1], C: ['\\field{C}'], E: ['\\field{E}'], F: ['\\field{F}'], N: ['\\field{N}'], P: ['\\field{P}'], Q: ['\\field{Q}'], R: ['\\field{R}'], Z: ['\\field{Z}'], ha : ['\\hat{#1}',1], Re: ['\\mathop{\\mathrm{Re}}'], Im: ['\\mathop{\\mathrm{Im}}'], Res: ['\\mathop{\\mathrm{Res}}'], } } }); </script> <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML-full"></script><style> *,:after,:before{box-sizing:border-box;background-color:inherit;color:inherit;margin:0;padding:0}body{font-family:system-ui,sans-serif;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;line-height:1.5;font-size:1rem;color:#16171a}nav ul{border-right:1px solid #edf2f7}a{color:#000;text-decoration-skip-ink:auto;text-decoration:underline}pre{margin:.5rem 0;padding:.5rem}.post p{margin:.5rem 0}.post h1,.post h2,.post h3,.post h4{margin:1rem 0}.post h2:first-child,.project h2:first-child,.photo h2:first-child{margin-top:0}.meta{margin:2rem 0}code,pre{background:#ecedee}code{padding:.1rem}pre code{border:none}pre{padding:1rem;overflow-x:auto}img{max-width:100%}hr{background:#000;height:1px;border:0}header{flex-basis:10rem;flex-grow:1;position:relative}header a{text-decoration:none}header li{margin-bottom:.2rem;text-align:right;margin-right:2rem}header a.active{font-weight:bold}header,section{padding:1rem}blockquote{font-style:italic;border-left:5px solid #ececec;padding-left:1rem}h1,h2,h3,h4,h5{line-height:1;margin:1rem 0;font-weight:600}section h1:first-child{margin-top:0}strong,b{font-weight:bold}.photos ul{list-style:none}.photos li{margin-bottom:1.5rem}.photo picture,.project picture{margin-bottom:.5rem}.posts ul,header ul{list-style:none}.posts li{align-items:center;display:flex;justify-content:space-between;margin-bottom:.5rem}.posts li a,.posts li div,.projects li a{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-decoration:none}.posts li time,.projects li time{padding-left:1rem;white-space:nowrap;font-variant-numeric:tabular-nums}main{display:flex;flex-wrap:wrap;max-width:60rem;margin:2rem auto;padding:1rem}@media screen and (max-width: 45rem){header li{display:inline;margin-right:1rem}.logo{padding-bottom:1rem}header ul{border-bottom:1px solid #edf2f7;padding-bottom:2rem}nav ul{border-right:0px}.photos ul{margin-top:.5rem}}section{flex-basis:0;flex-grow:999;min-width:70%;display:flex;flex-direction:column}figcaption{font-size:smaller}.post-archive{font-size:15px;line-height:2;padding-bottom:.8em}.post-archive .date{padding-right:.7em}.pagination{width:100%;padding:0 20px;text-align:center}.pagination ul{list-style:none}.pagination ul li{display:inline;margin:0 5px}.pagination ul li a{color:#000;text-decoration:none}.pagination ul li a:hover{color:gray;text-decoration:underline}.pagination ul li.current-page a{background:#ddd;color:#fff}.post-link{position:relative;display:inline-block}.post-excerpt{display:none;position:absolute;z-index:1;top:100%;left:0;width:100%;padding:10px;background-color:#fff;box-shadow:0 2px 5px rgba(0,0,0,.1)}.post-link:hover .post-excerpt{display:block}.img-padding{width:200px;height:200px;padding:20px 20px 20px 20px}</style></head><body><main role="main"><header role="banner"> <!--<h1 class="logo">Pavan Donthireddy</h1>--><nav role="navigation"><ul><li><a href="/" >Notes</a></li><li><a href="/tags" >Tags</a></li><li><a href="/search" >Search</a></li><li><a href="/about" >About</a></li></ul></nav></header><link rel="stylesheet" href="/assets/js/prism.css"><link rel="stylesheet" href="/assets/js/prism-line-numbers.css"><section class="post"> <script src="/assets/js/prism.js"></script> <script src="/assets/js/prism-line-numbers.js"></script><h1 style="text-align: center;">Various Noise Estimation Algorithms in Real-Time: A Detailed Overview with Financial Time Series</h1><div style="text-align: center;"><span class="meta"><time datetime="2023-04-04T00:00:00+01:00">April 4, 2023</time> </span></div><div style="text-align: center;"><span class="meta"> <a href="/tag/noise">noise</a></span></div><p>In real-time data analysis, accurate estimation of noise is a crucial step. Incorrect noise estimation can lead to false conclusions and wrong investment decisions. Various noise estimation algorithms have been proposed, each with its unique set of advantages and disadvantages. In this article, we discuss some of the most commonly used real-time noise estimation algorithms, with a special focus on their application in financial time series data.</p><h3 id="moving-average">Moving Average</h3><p>Moving average is a simple, yet useful method for noise estimation. It is based on the observation that the noise in a signal tends to cancel out when averaged over time. It involves taking the average of the previous ‘n’ data points to estimate the noise of the current point.</p><p>Let ‘x’ be the time series data, and ‘y’ be the estimated noise at time ‘t’. Then, the moving average algorithm is defined as:</p>\[y_t = \frac{1}{n} \sum_{i=t-n+1}^{t} x_i\]<p>Python Implementation:</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">moving_average</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">np</span><span class="p">.</span><span class="nf">convolve</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">np</span><span class="p">.</span><span class="nf">ones</span><span class="p">((</span><span class="n">n</span><span class="p">,))</span><span class="o">/</span><span class="n">n</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s">'valid'</span><span class="p">)</span>
</code></pre></div></div><p>Example:</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">moving_average</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
</code></pre></div></div><p>Output:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[ 3.          4.          4.33333333  4.33333333  3.66666667  2.66666667]
</code></pre></div></div><h3 id="exponential-smoothing">Exponential Smoothing</h3><p>Exponential smoothing is a widely used noise estimation algorithm that assigns more weight to recent data points while gradually decreasing the weight of older points. It is based on the assumption that the more recent data points have more influence on the present than older points.</p><p>Let ‘x’ be the time series data, ‘y’ be the estimated noise at time ‘t’, and ‘a’ be the smoothing factor between 0 and 1. Then, the exponential smoothing algorithm is defined as:</p>\[y_t = a x_t + (1-a) y_{t-1}\]<p>Python Implementation:</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">exponential_smoothing</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">alpha</span><span class="p">):</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">zeros</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
    <span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nf">len</span><span class="p">(</span><span class="n">data</span><span class="p">)):</span>
        <span class="n">y</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">=</span> <span class="n">alpha</span> <span class="o">*</span> <span class="n">data</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">alpha</span><span class="p">)</span> <span class="o">*</span> <span class="n">y</span><span class="p">[</span><span class="n">t</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">y</span>
</code></pre></div></div><p>Example:</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">24</span><span class="p">])</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">exponential_smoothing</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">))</span>
</code></pre></div></div><p>Output:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[10.          10.4         12.08        14.264       16.8112      19.64896 20.679168   21.7433344]
</code></pre></div></div><h3 id="kalman-filter">Kalman Filter</h3><p>The Kalman filter is a widely used algorithm in control systems and signal processing for state estimation. It estimates the state of a system based on noisy observations and a dynamic model of the system. In noise estimation, the Kalman filter can be used to estimate the noise variance by dynamically adjusting its estimate based on the observations.</p><p>Let ‘x’ be the time series data, ‘y’ be the estimated noise at time ‘t’, ‘q’ be the process noise covariance, and ‘r’ be the measurement noise covariance. Then, the Kalman filter algorithm is defined as:</p><table><tbody><tr><td>$$\hat{x}_{t</td><td>t-1} = F_t \hat{x}_{t-1</td><td>t-1}$$</td><td> </td></tr><tr><td>$$P_{t</td><td>t-1} = F_t P_{t-1</td><td>t-1} F_t^T + Q_t$$</td><td> </td></tr><tr><td>$$K_t = P_{t</td><td>t-1} H_t^T (H_t P_{t</td><td>t-1} H_t^T + R_t)^{-1}$$</td><td> </td></tr><tr><td>$$\hat{x}_{t</td><td>t} = \hat{x}_{t</td><td>t-1} + K_t(y_t - H_t \hat{x}_{t</td><td>t-1})$$</td></tr><tr><td>$$P_{t</td><td>t} = (I - K_t H_t) P_{t</td><td>t-1}$$</td><td> </td></tr><tr><td>$$y_t = x_t - \hat{x}_{t</td><td>t}$$</td><td> </td><td> </td></tr></tbody></table><p>Python Implementation:</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">kalman_filter</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">q</span><span class="p">,</span> <span class="n">r</span><span class="p">):</span>
    <span class="n">n</span> <span class="o">=</span> <span class="nf">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">x_hat</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">zeros</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="n">p_hat</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">zeros</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="n">k</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">zeros</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="n">x_hat</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">p_hat</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">q</span>

    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
        <span class="c1"># Prediction
</span>        <span class="n">x_hat</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">=</span> <span class="n">x_hat</span><span class="p">[</span><span class="n">t</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">p_hat</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">=</span> <span class="n">p_hat</span><span class="p">[</span><span class="n">t</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">q</span>

        <span class="c1"># Update
</span>        <span class="n">k</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">=</span> <span class="n">p_hat</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">/</span> <span class="p">(</span><span class="n">p_hat</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">+</span> <span class="n">r</span><span class="p">)</span>
        <span class="n">x_hat</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">=</span> <span class="n">x_hat</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">+</span> <span class="n">k</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">-</span> <span class="n">x_hat</span><span class="p">[</span><span class="n">t</span><span class="p">])</span>
        <span class="n">p_hat</span><span class="p">[</span><span class="n">t</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">k</span><span class="p">[</span><span class="n">t</span><span class="p">])</span> <span class="o">*</span> <span class="n">p_hat</span><span class="p">[</span><span class="n">t</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">data</span> <span class="o">-</span> <span class="n">x_hat</span>

</code></pre></div></div><p>Example:</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="nf">seed</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="nf">randn</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="nf">kalman_filter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
</code></pre></div></div><p>Output:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[ 0.50758787 -1.17494473 -0.54459023 -0.88305825 -0.46440888  1.45587325
  0.79014844  0.01516492  1.22259563 -0.4114019  -0.38735401 -0.17804005
 -1.07194692 -0.78294709  0.04612336 -0.655178   -2.34846627  0.65649554
 -1.94114321  1.34424741 -0.49816945  1.47748749  0.75053432  0.18296542
  2.1710788   0.37202772 -0.60487268 -0.23502836 -0.06516613 -1.13577316
  0.86237394  2.45035614 -0.42148299  1.32478444  0.04950835 -1.06407229
 -0.4857547  -0.26087598 -0.89319518 -2.82469996 -0.29373519  1.15304243
  1.43486413  0.03605583 -0.7320888  -1.43724389 -0.64945264 -0.68197398
 -0.21865347  0.72832677]
</code></pre></div></div><p>In conclusion, estimating noise in real-time data is a complex task, but the accuracy of these estimates is vital for decision-making. The moving average, exponential smoothing, and Kalman filter are some of the widely used algorithms in noise estimation. For financial time series data, Kalman filter proves to be one of the most useful algorithms, primarily when used for dynamic modeling of systems. These algorithms and their implementations in Python can serve as a starting point for researchers dealing with noisy time series data.</p><hr> <side style="font-size: 0.9em"><h3 style="margin-bottom: 1em">Notes mentioning this note</h3><div style="font-size: 0.9em"><p> There are no notes linking to this note.</p></div></side> <a href="" class="post-link"><h2></h2><p class="post-excerpt"></p></a> <script src="https://giscus.app/client.js" data-repo="pavandonthireddy/pavandonthireddy.github.io" data-repo-id="[ENTER REPO ID HERE]" data-category="[ENTER CATEGORY NAME HERE]" data-category-id="[ENTER CATEGORY ID HERE]" data-mapping="url" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="bottom" data-theme="light_high_contrast" data-lang="en" data-loading="lazy" crossorigin="anonymous" async> </script></section></main><div style="width:100%;text-align:center;"> <a href='https://ko-fi.com/G2G3KNTHM' target='_blank'><img height='36' style='border:0px;height:36px;' src='https://storage.ko-fi.com/cdn/kofi5.png?v=3' border='0' alt='Buy Me a Coffee at ko-fi.com' /></a></div></body></html>
